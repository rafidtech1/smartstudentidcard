<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pro ID Card Generator</title>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+Bengali:wght@400;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome (আইকনের জন্য) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    
    <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- অ্যানিমেটেড ব্যাকগ্রাউন্ড শেপ -->
<div class="background-shapes">
    <div class="shape shape-1"></div>
    <div class="shape shape-2"></div>
    <div class="shape shape-3"></div>
</div>

<div class="main-wrapper">
    <div class="glass-container">
        
        <!-- বাম পাশ: ইনপুট ফর্ম -->
        <div class="form-panel">
            <div class="form-header">
                <i class="fa-solid fa-id-card-clip logo-icon"></i>
                <h2>ID Card Generator</h2>
                <p>Fill the details to generate professional card</p>
            </div>
            
            <div class="scrollable-form">
                <div class="form-group">
                    <label><i class="fa-solid fa-user"></i> Student Name</label>
                    <input type="text" id="inName" placeholder="Ex: Md. Rahim Islam" oninput="updateCard()">
                </div>

                <div class="form-row">
                    <div class="form-group half">
                        <label><i class="fa-solid fa-fingerprint"></i> ID No</label>
                        <input type="text" id="inID" placeholder="123456" maxlength="10" oninput="validateNumber(this, 'errID')">
                        <span id="errID" class="error-msg">Only numbers allowed!</span>
                    </div>
                    
                    <div class="form-group half">
                        <label><i class="fa-solid fa-layer-group"></i> Batch</label>
                        <input type="text" id="inBatch" placeholder="29" maxlength="10" oninput="validateNumber(this, 'errBatch')">
                        <span id="errBatch" class="error-msg">Only numbers!</span>
                    </div>
                </div>

                <div class="form-group">
                    <label><i class="fa-solid fa-calendar-days"></i> Session</label>
                    <input type="text" id="inSession" placeholder="2024-2025" maxlength="10" oninput="validateSession(this, 'errSession')">
                    <span id="errSession" class="error-msg">Numbers & hyphen only!</span>
                </div>

                <div class="form-row">
                    <div class="form-group half">
                        <label><i class="fa-solid fa-graduation-cap"></i> Level</label>
                        <select id="inLevel" onchange="updateCard()">
                            <option value="HSC">HSC</option>
                            <option value="Honours">Honours</option>
                            <option value="Masters">Masters</option>
                        </select>
                    </div>

                    <div class="form-group half">
                        <label><i class="fa-solid fa-flask"></i> Group</label>
                        <select id="inGroup" onchange="updateCard()">
                            <option value="Science">Science</option>
                            <option value="Arts">Arts</option>
                            <option value="Commerce">Commerce</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label><i class="fa-solid fa-camera"></i> Upload Photo</label>
                    <div class="file-upload-wrapper">
                        <input type="file" id="inPhoto" accept="image/*" onchange="loadPhoto(event)">
                        <span class="file-custom-text">Choose File...</span>
                    </div>
                </div>

                <button onclick="downloadCardImage()" class="print-btn">
                    <i class="fa-solid fa-download"></i> Download HD Image
                </button>
            </div>
        </div>

        <!-- ডান পাশ: কার্ড প্রিভিউ -->
        <div class="preview-panel">
            <div class="preview-title">Live Preview</div>
            
            <!-- কার্ডের মূল অংশ (ডিজাইন অপরিবর্তিত) -->
            <div class="id-card-wrapper">
                <div class="id-card" id="cardCapture">
                    
                    <div class="black-stripe"></div>
                    <div class="top-stripe">
                        <div class="stripe-green"></div>
                        <div class="stripe-red"></div>
                    </div>

                    <div class="card-header">
                        <img src="https://scontent.fdac165-1.fna.fbcdn.net/v/t39.30808-6/512611029_1340984224699269_8287079065409781095_n.jpg?_nc_cat=102&ccb=1-7&_nc_sid=6ee11a&_nc_eui2=AeG15u0grMmNb_SPcI1xpc8GvBL23JiKHiS8EvbcmIoeJH8qFGXx88n7rwNOVOkqqm03Yyp7R-kgkKpGjUTR-mJ7&_nc_ohc=OLDnOKoiwHsQ7kNvwGkdy8y&_nc_oc=Adm0Bgn0g5wzhCbYAJ6hkl2L0vk3pjIZvRo73v1d12Yqnf2bTdBbxW9O3NKGFCKMOPg&_nc_zt=23&_nc_ht=scontent.fdac165-1.fna&_nc_gid=2ErvDEs_mmvVsZU5aLmtpw&oh=00_AfmIaTG7Sj8kQP9ym6AuaKx8vrFhR013htyMg9ylunFStg&oe=693480F2" class="college-logo" crossorigin="anonymous">
                        <div class="college-text">
                            <p class="bengali-slogan">জীবনদক্ষতাপূর্ণ শিক্ষায় শাশ্বত মানবিকতা</p>
                            <h2 class="college-name">Padma Government College,<br>Rajshahi</h2>
                        </div>
                    </div>

                    <div class="photo-area">
                        <img id="previewPhoto" src="https://via.placeholder.com/150" alt="Student">
                    </div>

                    <h2 class="student-name" id="outName">Student Name</h2>

                    <div class="details-section">
                        <img src="https://scontent.fdac165-1.fna.fbcdn.net/v/t39.30808-6/512611029_1340984224699269_8287079065409781095_n.jpg?_nc_cat=102&ccb=1-7&_nc_sid=6ee11a&_nc_eui2=AeG15u0grMmNb_SPcI1xpc8GvBL23JiKHiS8EvbcmIoeJH8qFGXx88n7rwNOVOkqqm03Yyp7R-kgkKpGjUTR-mJ7&_nc_ohc=OLDnOKoiwHsQ7kNvwGkdy8y&_nc_oc=Adm0Bgn0g5wzhCbYAJ6hkl2L0vk3pjIZvRo73v1d12Yqnf2bTdBbxW9O3NKGFCKMOPg&_nc_zt=23&_nc_ht=scontent.fdac165-1.fna&_nc_gid=2ErvDEs_mmvVsZU5aLmtpw&oh=00_AfmIaTG7Sj8kQP9ym6AuaKx8vrFhR013htyMg9ylunFStg&oe=693480F2" class="watermark" crossorigin="anonymous">

                        <div class="info-grid">
                            <div class="label">ID No</div>
                            <div class="value">: <span id="outID">123456</span></div>
                            <div class="label">Session</div>
                            <div class="value">: <span id="outSession">2024-2025</span></div>
                            <div class="label">Study Level</div>
                            <div class="value">: <span id="outLevel">HSC</span></div>
                            <div class="label">Batch</div>
                            <div class="value">: <span id="outBatch">29</span></div>
                            <div class="label">Group</div>
                            <div class="value">: <span id="outGroup">Science</span></div>
                        </div>
                    </div>

                    <div class="footer-section">
                        <div class="qr-box" id="qrcode"></div>
                        <div class="signature-box">
                            <img src="sir.png" crossorigin="anonymous" onerror="this.src='https://upload.wikimedia.org/wikipedia/commons/e/ec/Signature_sample.svg'" alt="Sign" class="sign-img">
                            <div class="principal-text">Principal</div>
                        </div>
                    </div>

                    <div class="bottom-stripe">
                        <div class="stripe-green"></div>
                        <div class="stripe-red"></div>
                    </div>
                    <div class="black-stripe"></div>

                </div>
            </div>
        </div>
    </div>
</div>

<script src="script.js"></script>
</body>
</html>